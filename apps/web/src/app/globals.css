@import "tailwindcss";

/* ---------- 顏色與字型變數 ---------- */
:root {
  --background: #ffffff;
  --foreground: #171717;

  /* 語系字體變數（建議同時在 next/font 載入 400/500/600/700 權重） */
  --font-zh: "Noto Sans TC","PingFang TC","Microsoft JhengHei","Heiti TC",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
  --font-zh-cn: "Noto Sans SC","PingFang SC","Microsoft YaHei","Heiti SC",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
  --font-jp: "Noto Sans JP","Hiragino Kaku Gothic ProN","Meiryo",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
  --font-en: "Inter","Helvetica Neue",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
}

/* ---------- Tailwind v4 主題區 ---------- */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-brandBlue: #1C3D5A;
}

/* ---------- 深色模式 ---------- */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* ---------- 全域樣式 ---------- */
html, body {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 預設英文字體（若未指定 data-lang，仍有一致表現） */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-en);
}

/* 依語系鎖定字體：記得在頁面容器加 data-lang="zh|zh-cn|jp|en" */
[data-lang="zh"]   { font-family: var(--font-zh); }
[data-lang="zh-cn"]{ font-family: var(--font-zh-cn); }
[data-lang="jp"]   { font-family: var(--font-jp); }
[data-lang="en"]   { font-family: var(--font-en); }

/* 標題與段落一致化：避免偽粗體與行距不一 */
h1,h2,h3 { font-weight: 700; letter-spacing: -0.01em; line-height: 1.2; }
p,li,span { font-weight: 400; line-height: 1.7; }

/* ---------- CrossBorderSection 淡藍光軌動畫 ---------- */
@layer utilities {
  :root {
    --cb-arc-color: 210 100% 65%;   /* 弧線主色：淡藍 */
    --cb-arc-glow:  210 100% 70%;   /* 外層光暈 */
  }

  /* 基礎弧線樣式 */
  .cb-arc {
    stroke: hsl(var(--cb-arc-color) / 0.65);
    filter:
      drop-shadow(0 0 6px hsl(var(--cb-arc-glow) / 0.55))
      drop-shadow(0 0 12px hsl(var(--cb-arc-glow) / 0.35));
    stroke-linecap: round;
    fill: none;
    stroke-width: 2;
  }

  /* 粗弧線 */
  .cb-arc--thick { stroke-width: 3; }

  /* 流動動畫（虛線前進） */
  @keyframes cb-dash {
    from { stroke-dashoffset: var(--arc-len, 1200); }
    to   { stroke-dashoffset: 0; }
  }
  .animate-cb-dash {
    stroke-dasharray: var(--arc-len, 1200);
    animation: cb-dash var(--arc-speed, 16s) linear infinite;
  }

  /* 微閃爍（呼吸感） */
  @keyframes cb-pulse {
    0%, 100% { opacity: 0.55; }
    50% { opacity: 0.85; }
  }
  .animate-cb-pulse {
    animation: cb-pulse 6s ease-in-out infinite;
  }

  /* 端點光芒（圓形呼吸） */
  @keyframes cb-glow-pulse {
    0%, 100% { opacity: .45; transform: scale(0.9); }
    50%      { opacity: .95; transform: scale(1.15); }
  }
  .animate-cb-glow {
    animation: cb-glow-pulse 5.4s ease-in-out infinite;
    will-change: transform, opacity;
  }

  /* 成功頁彈跳小動畫（可給 icon 容器使用：animate-pop） */
  @keyframes pop {
    0%   { transform: scale(.96); opacity: .0; }
    60%  { transform: scale(1.03); opacity: 1; }
    100% { transform: scale(1); }
  }
  .animate-pop { animation: pop .36s ease-out both; }
}
